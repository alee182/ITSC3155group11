{% include 'navbar.html' %}

{% load static %}

{% block content %}
<div class="container mt-5">
    <h2>User Profile</h2>
    <div class="card p-4 shadow-sm">
        <div class="d-flex align-items-center mb-3">
            <img src="{% if user.profile_pic %}{{ user.profile_pic.url }}{% else %}{% static 'images/uncc-logo.png' %}{% endif %}"
                 alt="Profile Picture" class="rounded-circle me-3" width="100" height="100">
            <form method="post" enctype="multipart/form-data" action="{% url 'edit_profile_pic' %}">
                {% csrf_token %}
                <input type="file" name="profile_pic" accept="image/*" onchange="this.form.submit()" hidden id="uploadProfilePic">
                <button type="button" class="btn btn-outline-primary" onclick="document.getElementById('uploadProfilePic').click();">
                    Change Picture
                </button>
            </form>
        </div>

        <div class="mb-2">
            <strong>Email:</strong> {{ user.email }}
            <a href="{% url 'edit_email' %}" class="btn btn-sm btn-outline-secondary ms-2">Edit</a>
        </div>

        <div class="mb-2">
            <strong>First Name:</strong> {{ user.first_name }}
            <a href="{% url 'edit_first_name' %}" class="btn btn-sm btn-outline-secondary ms-2">Edit</a>
        </div>

        <div class="mb-2">
            <strong>Last Name:</strong> {{ user.last_name }}
            <a href="{% url 'edit_last_name' %}" class="btn btn-sm btn-outline-secondary ms-2">Edit</a>
        </div>
    </div>
</div>
{% endblock %}

